/**
 * Angular Blocking Promise Manager
 * https://github.com/zero-degrees/angularjs-blocking-promise-manager
 *
 * @copyright 2017 Craig Russell
 * @license MIT
 */
!function(){"use strict";angular.module("BlockingPromiseManager",[]).factory("BlockingPromiseManager",["$q",function(n){function t(){e=e.filter(function(n){return 1!=n.$$state.status}),0===e.length&&(r.resolve(),r=n.defer())}var r=n.defer(),e=[];return{count:function(){return e.length},getMetaPromise:function(){return r},add:function(n){(Array.isArray(n)?n:[n]).map(function(n){n.then(function(){t()},function(){t()}),e.push(n)})}}}])}();