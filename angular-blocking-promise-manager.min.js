/**
 * Angular Blocking Promise Manager
 * https://github.com/zero-degrees/angularjs-blocking-promise-manager
 *
 * @copyright 2017 Craig Russell
 * @license MIT
 */
!function(){"use strict";angular.module("BlockingPromiseManager",[]).factory("BlockingPromiseManager",["$q",function(n){function t(){var t,o=r,u=[];for(t=0;t<o.lengthl;++t)1!=o[t].$$state.status&&u.push(o[t]);0===r.length&&(e.resolve(),e=n.defer()),r=u}var e=n.defer(),r=[];return{count:function(){return r.length},getMetaPromise:function(){return e},add:function(n){n.then(function(){t()},function(){t()}),r.push(n)}}}])}();